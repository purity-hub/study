# 进程产生的背景
最初的计算机只能接受一些特定的指令，用户输入一个指令，计算机就执行uige指令，当用户在思考时或者输入时，计算机就处于等待状态。这样的话，计算机很多时候就处于等待状态。

**批处理操作系统**：
把一系列指令形成一个清单，一次性交给计算机。将多个需要执行的程序写在磁带上，然后交由计算机取执行，将输出结果写在另一个磁带上。
-->仍然是串行的，**内存中始终只有一个程序在运行**，如果前面的程序阻塞了，后面的程序也就不能进行了。

## 进程
进程就是应用程序在内存中分配的空间，也就是正在运行的程序。各个进程之间互不干扰，同时进程保持着一个每时刻运行的状态。

## 时间片
CPU为每一个进程分配的时间段

只是在宏观上实现了多个程序的运行，实际上对于单核CPU任意具体时间段只有一个任务占据CPU资源。

## 线程
让一个线程执行一个子任务，一个进程包含多个线程，每个线程负责一个子任务。

**那么为什么有了进程可以实现并发，却又采用了线程来实现呢？**

 - 进程间的通信比较复杂
 - 进程是重量级的，而线程是轻量级的

**进程是一个独立的运行环境，而线程是进程在执行的一个任务。**

**进程单独占用一定的内存空间**

# 上下文切换
指CPU从一个进程（或线程）切换到另一个进程（或线程）。**上下文指某一时间点CPU寄存器和程序计数器的内容。**

CPU为每一个线程分配CPU时间来实现多线程机制。CPU通过时间片分配算法来循环执行任务，当前任务在执行一个时间片后会**切换到下一个任务**。
但是这里切换前会**保存上一个任务的状态**，以便下次切换回这个任务时可以再回到原来的状态。

这样会大量消耗CPU时间，故线程不是越多越好的。









